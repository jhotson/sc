When
    [Case
        (Deposit
            (Role "Landlord")
            (Role "Tenant")
            (Token "" "")
            (Constant 900)
        )
        (Let
            "Tenancy"
            SlotIntervalStart 
            (When
                [Case
                    (Choice
                        (ChoiceId
                            "Break Contract"
                            (Role "Tenant")
                        )
                        [Bound 1 2]
                    )
                    (If
                        (ValueEQ
                            (ChoiceValue
                                (ChoiceId
                                    "Break Contract"
                                    (Role "Tenant")
                                ))
                            (Constant 1)
                        )
                        (When
                            [Case
                                (Choice
                                    (ChoiceId
                                        "Property Inspection"
                                        (Role "Landlord")
                                    )
                                    [Bound 1 2]
                                )
                                (If
                                    (ValueEQ
                                        (ChoiceValue
                                            (ChoiceId
                                                "Property Inspection"
                                                (Role "Landlord")
                                            ))
                                        (Constant 1)
                                    )
                                    (Pay
                                        (Role "Landlord")
                                        (Party (Role "Tenant"))
                                        (Token "" "")
                                        (Constant 100)
                                        Close 
                                    )
                                    Close 
                                )]
                            2
                            (Pay
                                (Role "Landlord")
                                (Party (Role "Tenant"))
                                (Token "" "")
                                (Constant 100)
                                Close 
                            )
                        )
                        (Assert
                            (ValueEQ
                                (ChoiceValue
                                    (ChoiceId
                                        "Break Contract"
                                        (Role "Tenant")
                                    ))
                                (Constant 2)
                            )
                            (Let
                                "End Tenancy"
                                SlotIntervalEnd 
                                (When
                                    [Case
                                        (Choice
                                            (ChoiceId
                                                "Property Inspection"
                                                (Role "Landlord")
                                            )
                                            [Bound 1 2]
                                        )
                                        (If
                                            (ValueEQ
                                                (ChoiceValue
                                                    (ChoiceId
                                                        "Property Inspection"
                                                        (Role "Landlord")
                                                    ))
                                                (Constant 1)
                                            )
                                            (Pay
                                                (Role "Landlord")
                                                (Party (Role "Tenant"))
                                                (Token "" "")
                                                (Constant 100)
                                                Close 
                                            )
                                            Close 
                                        )]
                                    13
                                    (Pay
                                        (Role "Landlord")
                                        (Party (Role "Tenant"))
                                        (Token "" "")
                                        (Constant 100)
                                        Close 
                                    )
                                )
                            )
                        )
                    )]
                12
                (Let
                    "End Tenancy"
                    SlotIntervalEnd 
                    (When
                        [Case
                            (Choice
                                (ChoiceId
                                    "Property Inspection"
                                    (Role "Landlord")
                                )
                                [Bound 1 2]
                            )
                            (If
                                (ValueEQ
                                    (ChoiceValue
                                        (ChoiceId
                                            "Property Inspection"
                                            (Role "Landlord")
                                        ))
                                    (Constant 1)
                                )
                                (Pay
                                    (Role "Landlord")
                                    (Party (Role "Tenant"))
                                    (Token "" "")
                                    (Constant 100)
                                    Close 
                                )
                                Close 
                            )]
                        13
                        (Pay
                            (Role "Landlord")
                            (Party (Role "Tenant"))
                            (Token "" "")
                            (Constant 100)
                            Close 
                        )
                    )
                )
            )
        )]
    1 Close 
